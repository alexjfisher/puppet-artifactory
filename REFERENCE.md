# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`artifactory`](#artifactory): Installs and configures Artifactory

#### Private Classes

* `artifactory::config`
* `artifactory::db`
* `artifactory::install`
* `artifactory::repo`
* `artifactory::service`
* `artifactory::user`

### Resource types

#### Public Resource types

* [`artifactory_access_setting`](#artifactory_access_setting): Name of setting in dotted notation.

#### Private Resource types

* `artifactory_access_settings`: Generates a access.config.patch.yml file as needed using configuration values from `artifactory_access_setting` resources.
* `artifactory_yaml_file`: Used to generates the system.yaml file but replaces its content only if encrypted fields don't decrypt to strings matching the plaintext versions from `content`

## Classes

### <a name="artifactory"></a>`artifactory`

Installs and configures Artifactory

#### Parameters

The following parameters are available in the `artifactory` class:

* [`manage_repo`](#-artifactory--manage_repo)
* [`edition`](#-artifactory--edition)
* [`package_name`](#-artifactory--package_name)
* [`package_version`](#-artifactory--package_version)
* [`db_type`](#-artifactory--db_type)
* [`db_host`](#-artifactory--db_host)
* [`db_name`](#-artifactory--db_name)
* [`db_user`](#-artifactory--db_user)
* [`db_port`](#-artifactory--db_port)
* [`db_password`](#-artifactory--db_password)
* [`db_url`](#-artifactory--db_url)
* [`additional_system_config`](#-artifactory--additional_system_config)
* [`manage_db`](#-artifactory--manage_db)
* [`uid`](#-artifactory--uid)
* [`gid`](#-artifactory--gid)
* [`master_key`](#-artifactory--master_key)
* [`binary_store_config_xml`](#-artifactory--binary_store_config_xml)
* [`jvm_max_heap_size`](#-artifactory--jvm_max_heap_size)
* [`jvm_min_heap_size`](#-artifactory--jvm_min_heap_size)
* [`jvm_extra_args`](#-artifactory--jvm_extra_args)
* [`system_properties`](#-artifactory--system_properties)

##### <a name="-artifactory--manage_repo"></a>`manage_repo`

Data type: `Boolean`

Whether to manage the artifactory yum repository

Default value: `true`

##### <a name="-artifactory--edition"></a>`edition`

Data type: `Enum['oss','pro']`

Controls which version of Artifactory is installed

Default value: `'oss'`

##### <a name="-artifactory--package_name"></a>`package_name`

Data type: `String[1]`

The Artifactory package name

Default value: `"jfrog-artifactory-${edition}"`

##### <a name="-artifactory--package_version"></a>`package_version`

Data type: `String[1]`

The RPM version of the Artifactory package, (or `latest`, `installed` etc.)

Default value: `'installed'`

##### <a name="-artifactory--db_type"></a>`db_type`

Data type:

```puppet
Enum[
    'derby',
    'mariadb',
    'mssql',
    'mysql',
    'oracle',
    'postgresql'
  ]
```

The database type. Artifactory works with other databases, but strongly recommends only using `postgresql`

Default value: `'postgresql'`

##### <a name="-artifactory--db_host"></a>`db_host`

Data type: `Stdlib::Host`

The host of database server housing Artifactory's database

Default value: `'localhost'`

##### <a name="-artifactory--db_name"></a>`db_name`

Data type: `String[1]`

The name of the database (or SERVICE for `oracle` databases)

Default value: `'artifactory'`

##### <a name="-artifactory--db_user"></a>`db_user`

Data type: `String[1]`

The username used to connect to the database

Default value: `'artifactory'`

##### <a name="-artifactory--db_port"></a>`db_port`

Data type: `Stdlib::Port`

The TCP port the database listens on

Default value: `5432`

##### <a name="-artifactory--db_password"></a>`db_password`

Data type:

```puppet
Variant[
    Sensitive[String[1]],
    String[1]
  ]
```

The password of the `db_user`. By default a random password will be generated, and cached on your puppet server. Only use when you have a single Puppetserver

Default value: `extlib::cache_data('artifactory', 'db_password', extlib::random_password(16))`

##### <a name="-artifactory--db_url"></a>`db_url`

Data type: `Optional[String[1]]`

Instead of allowing this Puppet module to set the JDBC database URL based on, `db_type`, `db_host`, `db_port` and `db_name`, manaully override the URL by setting this parameter

Default value: `undef`

##### <a name="-artifactory--additional_system_config"></a>`additional_system_config`

Data type: `Hash`

A hash of any additional configuration. This will be merged into the default configuration, and database configuration when building the `system.yaml` file.

Default value: `{}`

##### <a name="-artifactory--manage_db"></a>`manage_db`

Data type: `Boolean`

Whether to install and configure Artifactory's database. Only supported for `db_type` postgresql

Default value: `true`

##### <a name="-artifactory--uid"></a>`uid`

Data type: `Optional[Integer]`

If set, the UID to use when managing the `artifactory` user.  If not set, the module will not manage the user

Default value: `undef`

##### <a name="-artifactory--gid"></a>`gid`

Data type: `Optional[Integer]`

The GID to use for the `artifactory` group when managing the `artifactory` user. Will default to the same as the `uid`

Default value: `$uid`

##### <a name="-artifactory--master_key"></a>`master_key`

Data type:

```puppet
Optional[
    Variant[
      Sensitive[Pattern[/\A(\h{32}|\h{64})\z/]],
      Pattern[/\A(\h{32}|\h{64})\z/]
    ]
  ]
```

If set, this will be used at the value for the `master.key`. This should not be changed after Artifactory has been deployed.

Default value: `undef`

##### <a name="-artifactory--binary_store_config_xml"></a>`binary_store_config_xml`

Data type: `Optional[String[1]]`

The contents to be used for a custom binary-store.xml file. When not set, the default file-system configuration will be used.

Default value: `undef`

##### <a name="-artifactory--jvm_max_heap_size"></a>`jvm_max_heap_size`

Data type: `String[1]`

The Java Maximum Heap Size. Used in the `-Xmx` java option.

Default value: `'2G'`

##### <a name="-artifactory--jvm_min_heap_size"></a>`jvm_min_heap_size`

Data type: `String[1]`

The Java Minimum Heap Size. Used in the '-Xms' java option. Defaults to the `jvm_max_heap_size`.

Default value: `$jvm_max_heap_size`

##### <a name="-artifactory--jvm_extra_args"></a>`jvm_extra_args`

Data type: `Array[String[1]]`

Any extra java options. For example, setting the stack size with `-Xss1m`

Default value: `[]`

##### <a name="-artifactory--system_properties"></a>`system_properties`

Data type: `Hash`

A hash of Artifactory 'system properties'. These will be added to the `artifactory.system.properties` file. Set a value to `undef` if you want to remove it from the file.

Default value: `{}`

## Resource types

### <a name="artifactory_access_setting"></a>`artifactory_access_setting`

Name of setting in dotted notation.

#### Parameters

The following parameters are available in the `artifactory_access_setting` type.

* [`name`](#-artifactory_access_setting--name)
* [`value`](#-artifactory_access_setting--value)

##### <a name="-artifactory_access_setting--name"></a>`name`

namevar

Name of setting in dotted notation.

##### <a name="-artifactory_access_setting--value"></a>`value`

The value of the setting

